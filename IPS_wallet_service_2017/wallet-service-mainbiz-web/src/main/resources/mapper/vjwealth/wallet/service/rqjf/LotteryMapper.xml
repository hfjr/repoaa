<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" 
"http://www.mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.zhuanyi.vjwealth.wallet.service.mainbiz.rqjf.server.mapper.ILotteryMapper">
	
	<select id="countLotteryRecord" parameterType="java.lang.String" resultType="java.lang.Integer">
		select count(1) from rqb_lottery_user w
		where w.user_id=#{userId}
	</select>
	
	<insert id="saveLotteryRecord" parameterType="java.lang.String" >
		INSERT INTO rqb_lottery_user (
			user_id,
			luck_times,
			create_date,
			create_by
		)
		VALUES
			(
				#{userId},
				'1',
				now(),
				'SYSTEM'
			
			)
	</insert>
	
		
	<update id="addLotteryTimes" parameterType="java.lang.String" >
		update rqb_lottery_user 
			set luck_times=luck_times+1
			where user_id=#{userId}
	</update>	
		
	
</mapper>